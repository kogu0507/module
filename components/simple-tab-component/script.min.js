(function(){"use strict";class SimpleTabComponent{constructor(e,t={}){const n={defaultTab:null,deepLink:!0,onTabChange:null};this.opts=Object.assign({},n,t),this.container=e,this.tabList=e.querySelector(".tabs"),this.tabButtons=Array.from(e.querySelectorAll(".tab-button")),this.tabPanes=Array.from(e.querySelectorAll(".tab-pane")),this._setupAccessibility(),this._bindEvents(),this._initActiveTab()}_setupAccessibility(){this.tabList.setAttribute("role","tablist"),this.tabButtons.forEach(e=>{e.setAttribute("role","tab"),e.id||(e.id="stc-tab-"+Math.random().toString(36).substr(2,9)),e.setAttribute("aria-controls",e.dataset.tab);const t=e.classList.contains("active");e.setAttribute("aria-selected",t),e.setAttribute("tabindex",t?0:-1)}),this.tabPanes.forEach(t=>{t.setAttribute("role","tabpanel");const e=this.container.querySelector(".tab-button[data-tab=\"" + t.id + "\"]");e&&t.setAttribute("aria-labelledby",e.id)})}_bindEvents(){this.tabList.addEventListener("click",e=>{const t=e.target.closest(".tab-button");t&&(e.preventDefault(),this.activateTab(t))}),this.tabList.addEventListener("keydown",e=>{const t=e.key;if(!["ArrowLeft","ArrowRight","Home","End"].includes(t))return;e.preventDefault();const n=this.tabButtons.findIndex(e=>e===document.activeElement);let i=n;"ArrowLeft"===t?i=(n-1+this.tabButtons.length)%this.tabButtons.length:"ArrowRight"===t?i=(n+1)%this.tabButtons.length:"Home"===t?i=0:"End"===t&&(i=this.tabButtons.length-1);const o=this.tabButtons[i];o.focus(),this.activateTab(o)}),this.opts.deepLink&&window.addEventListener("hashchange",()=>{const e=location.hash.slice(1),t=this.tabButtons.find(t=>t.dataset.tab===e);t&&this.activateTab(t,!1)})}_initActiveTab(){let e;this.opts.deepLink&&location.hash&&(e=this.tabButtons.find(e=>e.dataset.tab===location.hash.slice(1))),e||this.container.dataset.defaultTab&&(e=this.tabButtons.find(e=>e.dataset.tab===this.container.dataset.defaultTab)),e||(e=this.tabButtons.find(e=>e.classList.contains("active"))),e||(e=this.tabButtons[0]),this.activateTab(e,!1)}activateTab(e,t=!0){this.tabButtons.forEach(t=>{t.classList.remove("active"),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex",-1)}),this.tabPanes.forEach(e=>e.classList.remove("active")),e.classList.add("active"),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex",0);const n=this.container.querySelector("#"+e.dataset.tab);n&&n.classList.add("active"),this.opts.deepLink&&t&&history.replaceState(null,"","#"+e.dataset.tab),typeof this.opts.onTabChange=="function"&&this.opts.onTabChange(e.dataset.tab),e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".simple-tab-component-container").forEach(e=>{const t=e.dataset.defaultTab||null,n=e.dataset.deepLink!=="false";new SimpleTabComponent(e,{defaultTab:t,deepLink:n})})});})();
